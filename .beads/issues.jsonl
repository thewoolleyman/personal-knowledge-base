{"id":"personal-knowledge-base-0q2","title":"Merge secrets-scan into CI/CD pipeline, delete standalone workflow","description":"secrets-scan.yml was incorrectly created as a standalone workflow. Gitleaks is a linting tool and belongs as a step in the single ci-cd.yml pipeline. Move it, delete the standalone file.","status":"closed","priority":1,"issue_type":"bug","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T11:01:44.859198-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T11:07:45.539202-08:00","closed_at":"2026-02-01T11:07:45.539202-08:00","close_reason":"Closed"}
{"id":"personal-knowledge-base-181","title":"Add CI-must-pass rule to CLAUDE.md and PRIME.md","description":"Add mandatory rule: NEVER push or continue work while CI is red. CI failures must be fixed first, or verified by human as infra/external and explicitly allowed. Update CLAUDE.md session close protocol, PRIME.md, and beads workflow context.","status":"closed","priority":1,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T11:01:47.69181-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T11:07:45.541178-08:00","closed_at":"2026-02-01T11:07:45.541178-08:00","close_reason":"Closed"}
{"id":"personal-knowledge-base-1l1","title":"Fix CI: golangci-lint Go version mismatch","description":"golangci-lint v1.64.8 is built with Go 1.24 and cannot lint Go 1.25.6 code. Fix: either pin a golangci-lint version built with Go 1.25+, or use go install with our Go toolchain.","status":"closed","priority":1,"issue_type":"bug","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T02:41:54.580584-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T02:48:33.682213-08:00","closed_at":"2026-02-01T02:48:33.682213-08:00","close_reason":"Fixed and CI is green"}
{"id":"personal-knowledge-base-1rc","title":"Add .env.example with placeholder values","description":"Add a tracked .env.example file showing required environment variables (PKB_GOOGLE_CLIENT_ID, PKB_GOOGLE_CLIENT_SECRET) with placeholder values for developer onboarding","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T04:51:22.971016-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:52:41.935153-08:00","closed_at":"2026-02-01T04:52:41.935153-08:00","close_reason":"Closed"}
{"id":"personal-knowledge-base-32y","title":"Move default token path to XDG config dir","description":"Change default OAuth token storage from ./token.json (project root) to ~/.config/pkb/token.json (XDG Base Directory). Create config dir if missing. Use TDD: test default path, test dir creation, implement, refactor.","status":"closed","priority":2,"issue_type":"feature","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T04:51:27.781853-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:55:22.811344-08:00","closed_at":"2026-02-01T04:55:22.811344-08:00","close_reason":"Implemented XDG-compliant default token path with TDD, 100% coverage","dependencies":[{"issue_id":"personal-knowledge-base-32y","depends_on_id":"personal-knowledge-base-mpj","type":"blocks","created_at":"2026-02-01T04:51:37.265471-08:00","created_by":"Chad Woolley"}]}
{"id":"personal-knowledge-base-59n","title":"Add version management for release tagging","description":"Decide and implement version source for the release workflow. Options: (a) tag-based releases where pushing a v* tag triggers release, (b) a VERSION file in repo root that the release workflow reads and auto-tags. The reference project reads version from manifest.json and auto-bumps after release. For our Go CLI, recommend tag-based (push v1.0.0 tag triggers release) since it is the standard Go convention. Add ldflags to inject version into the binary at build time (e.g. -ldflags \"-X main.version=$VERSION\"). Add a 'make version' target.","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T01:59:09.789586-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T02:27:03.539564-08:00","closed_at":"2026-02-01T02:27:03.539564-08:00","close_reason":"Implemented CI, release, and auto-merge workflows with version management"}
{"id":"personal-knowledge-base-6as","title":"Add gitleaks pre-commit hook for secret scanning","status":"closed","priority":1,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T10:34:27.873373-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T10:38:34.241357-08:00","closed_at":"2026-02-01T10:38:34.241357-08:00","close_reason":"Closed"}
{"id":"personal-knowledge-base-6j7","title":"Add gitleaks CI workflow for GitHub Actions","status":"closed","priority":1,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T10:34:33.696043-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T10:38:34.280965-08:00","closed_at":"2026-02-01T10:38:34.280965-08:00","close_reason":"Closed"}
{"id":"personal-knowledge-base-6jl","title":"Create release workflow: cross-compile CLI + GitHub Release","description":"Create .github/workflows/release.yml that triggers after CI passes on push to main. Stages: (1) extract version (from git tag or VERSION file), (2) cross-compile pkb binary for linux/amd64, linux/arm64, darwin/amd64, darwin/arm64, windows/amd64 using 'go build' with GOOS/GOARCH, (3) create GitHub Release with auto-generated notes and attach all binaries. Only create release on main branch pushes, skip if version/tag already released. Modeled after the release stage in tab-groups-windows-list ci-cd.yml.","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T01:59:02.63929-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T02:27:03.55871-08:00","closed_at":"2026-02-01T02:27:03.55871-08:00","close_reason":"Implemented CI, release, and auto-merge workflows with version management","dependencies":[{"issue_id":"personal-knowledge-base-6jl","depends_on_id":"personal-knowledge-base-9yh","type":"blocks","created_at":"2026-02-01T01:59:16.08424-08:00","created_by":"Chad Woolley"},{"issue_id":"personal-knowledge-base-6jl","depends_on_id":"personal-knowledge-base-59n","type":"blocks","created_at":"2026-02-01T01:59:16.175715-08:00","created_by":"Chad Woolley"}]}
{"id":"personal-knowledge-base-7i1","title":"Obtain Google OAuth credentials and configure .env","description":"AI-assisted interactive walkthrough to obtain and configure OAuth credentials.\n\n## How It Works\n\n1. Start Claude Code with `claude --chrome` (gives Claude the browser tool to see pages and help you)\n2. Tell Claude: \"Walk me through obtaining the Google OAuth secret\"\n3. Claude guides you step-by-step, opening URLs, explaining what to click, answering questions\n4. Claude writes the credentials to .env and verifies the setup\n\nThis is NOT automation — Claude is your interactive guide. You drive, Claude navigates.\n\n## Starting the Flow\n\n```bash\nclaude --chrome\n# Then say: \"Help me set up Google OAuth credentials for pkb\"\n# Or for any future service: \"Help me add Slack credentials to pkb\"\n```\n\n## Reference\n- Formula template: `.beads/formulas/mol-obtain-oauth-secret.formula.json`\n- Full guide: `docs/obtaining-secrets.md`\n\n## What Claude Does at Each Step\n- Opens the right URL in your browser\n- Tells you exactly what to click and fill in\n- Can see the page via `--chrome` if you get stuck\n- Writes credentials to .env (you never have to edit files manually)\n- Runs the auth flow and verifies everything works","status":"open","priority":0,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T11:59:12.367609-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T12:14:03.311061-08:00"}
{"id":"personal-knowledge-base-7os","title":"Create auto-merge workflow for claude/* branches","description":"Create .github/workflows/auto-merge.yml that triggers on push to claude/** branches. Runs the full test suite (lint, unit tests, acceptance tests), then creates a PR to main if tests pass. Modeled directly after tab-groups-windows-list auto-merge.yml but with Go toolchain (setup-go, make test, make test-accept) instead of Node (setup-node, npm test, playwright).","status":"closed","priority":3,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T01:59:06.176661-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T02:27:03.577935-08:00","closed_at":"2026-02-01T02:27:03.577935-08:00","close_reason":"Implemented CI, release, and auto-merge workflows with version management","dependencies":[{"issue_id":"personal-knowledge-base-7os","depends_on_id":"personal-knowledge-base-9yh","type":"blocks","created_at":"2026-02-01T01:59:16.266611-08:00","created_by":"Chad Woolley"}]}
{"id":"personal-knowledge-base-892","title":"Add OAuth setup instructions to README","description":"Expand README with Google OAuth credential setup instructions: how to get credentials from Google Cloud Console, set env vars, and run pkb auth","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T04:51:25.28846-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:52:41.955432-08:00","closed_at":"2026-02-01T04:52:41.955432-08:00","close_reason":"Closed"}
{"id":"personal-knowledge-base-9k2","title":"Add redaction to hook log and context bundle scripts","status":"closed","priority":1,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T10:34:31.006885-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T10:38:34.260079-08:00","closed_at":"2026-02-01T10:38:34.260079-08:00","close_reason":"Closed"}
{"id":"personal-knowledge-base-9yh","title":"Create CI workflow: lint + unit tests + acceptance tests","description":"Create .github/workflows/ci.yml that runs on push to main and on PRs to main. Stages: (1) go vet + golangci-lint, (2) unit tests with race detection and coverage (make test), (3) acceptance tests (make test-accept). Use Go 1.25, ubuntu-latest. Cache go modules. Upload coverage as artifact. Modeled after the test stages in tab-groups-windows-list ci-cd.yml but with Go toolchain instead of Node.","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T01:58:59.133953-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T02:27:03.519921-08:00","closed_at":"2026-02-01T02:27:03.519921-08:00","close_reason":"Implemented CI, release, and auto-merge workflows with version management"}
{"id":"personal-knowledge-base-asj","title":"Write docs/SECRETS_SECURITY.md with findings and reproducible guidance","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T10:34:38.563493-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T10:39:55.920632-08:00","closed_at":"2026-02-01T10:39:55.920632-08:00","close_reason":"Documentation written at docs/SECRETS_SECURITY.md","dependencies":[{"issue_id":"personal-knowledge-base-asj","depends_on_id":"personal-knowledge-base-6as","type":"blocks","created_at":"2026-02-01T10:34:47.567054-08:00","created_by":"Chad Woolley"},{"issue_id":"personal-knowledge-base-asj","depends_on_id":"personal-knowledge-base-9k2","type":"blocks","created_at":"2026-02-01T10:34:47.657416-08:00","created_by":"Chad Woolley"},{"issue_id":"personal-knowledge-base-asj","depends_on_id":"personal-knowledge-base-6j7","type":"blocks","created_at":"2026-02-01T10:34:47.747892-08:00","created_by":"Chad Woolley"},{"issue_id":"personal-knowledge-base-asj","depends_on_id":"personal-knowledge-base-pr1","type":"blocks","created_at":"2026-02-01T10:34:47.842748-08:00","created_by":"Chad Woolley"}]}
{"id":"personal-knowledge-base-bcs","title":"Add Gmail connector","description":"Implement a Gmail connector following the existing Connector interface (Search, Name methods). Should search Gmail messages using the Gmail API. Use the same OAuth infrastructure as the gdrive connector. Include unit tests with mocked API client, following the same pattern as gdrive.","status":"closed","priority":3,"issue_type":"feature","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T02:03:20.652283-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:32:04.117323-08:00","closed_at":"2026-02-01T04:32:04.117323-08:00","close_reason":"Implemented Gmail connector with 100% coverage and Drive fallback"}
{"id":"personal-knowledge-base-bdu","title":"Add make open-cicd-webpage target","status":"closed","priority":3,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T11:54:53.559653-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T11:55:25.163022-08:00","closed_at":"2026-02-01T11:55:25.163022-08:00","close_reason":"Added make open-cicd-webpage target"}
{"id":"personal-knowledge-base-bhz","title":"Set up GitHub Actions CI/CD","description":"Epic: Set up CI/CD pipeline using GitHub Actions, modeled after tab-groups-windows-list/.github but adapted for our Go CLI project. Pipeline should: (1) run all linters and tests on push/PR to main, (2) build cross-platform CLI binaries, (3) create GitHub Releases with attached binaries. Reference workflow uses staged approach: Build → Test → Release.","status":"closed","priority":2,"issue_type":"feature","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T01:58:50.7871-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T02:27:03.597172-08:00","closed_at":"2026-02-01T02:27:03.597172-08:00","close_reason":"Implemented CI, release, and auto-merge workflows with version management"}
{"id":"personal-knowledge-base-cd1","title":"Add interactive OAuth token generation flow","description":"Currently the app requires pre-existing OAuth tokens (credentials.json + token.json). Add an interactive setup/auth command that walks the user through the OAuth consent flow: opens browser, handles callback, saves token. This is needed for first-time setup without manually crafting tokens.","status":"closed","priority":3,"issue_type":"feature","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T02:03:22.810882-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:32:04.209542-08:00","closed_at":"2026-02-01T04:32:04.209542-08:00","close_reason":"Implemented interactive OAuth auth command with browser flow"}
{"id":"personal-knowledge-base-cjj","title":"Fix errcheck lint violations in oauth_test.go","description":"golangci-lint errcheck flags unchecked os.WriteFile (line 41) and os.Chmod (line 88) in oauth_test.go. Fix by checking returns with require.NoError.","status":"closed","priority":1,"issue_type":"bug","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T02:44:22.955846-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T02:48:33.684329-08:00","closed_at":"2026-02-01T02:48:33.684329-08:00","close_reason":"Fixed and CI is green"}
{"id":"personal-knowledge-base-d1j","title":"Improve cmd/pkb test coverage from 59.7% to 90%+","description":"cmd/pkb currently has 59.7% test coverage. The TDD rule requires 100% on new code, and existing gaps should be closed. Audit cmd/pkb/main.go and main_test.go, identify untested paths (likely: error branches in buildSearchFn, edge cases in cobra command setup, signal handling paths), and add unit tests to cover them.","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T02:03:07.859496-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:02:02.98551-08:00","closed_at":"2026-02-01T04:02:02.98551-08:00","close_reason":"All functions at 100% coverage (excluding main). CI enforcement uses per-function checks."}
{"id":"personal-knowledge-base-grc","title":"Improve TUI test coverage from 82.9% to 95%+","description":"internal/tui has 82.9% coverage. Identify remaining untested paths in tui.go (likely: window size handling, edge cases in key bindings, viewport scrolling states) and add tests. Previous bugs BUG-003, BUG-012, BUG-013 are already covered.","status":"closed","priority":3,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T02:03:12.398243-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:02:03.023511-08:00","closed_at":"2026-02-01T04:02:03.023511-08:00","close_reason":"All functions at 100% coverage (excluding main). CI enforcement uses per-function checks."}
{"id":"personal-knowledge-base-h6d","title":"Add /search API endpoint to HTTP server","description":"The serve command currently only exposes /health. Add a /search endpoint that accepts a query parameter, runs the search engine, and returns JSON results. This is needed before the app can be used as an API service. Should include acceptance tests that hit the real endpoint.","status":"closed","priority":2,"issue_type":"feature","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T02:03:18.25569-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:32:03.935061-08:00","closed_at":"2026-02-01T04:32:03.935061-08:00","close_reason":"Implemented /search API endpoint with JSON responses and full test coverage"}
{"id":"personal-knowledge-base-hgr","title":"Improve gdrive connector test coverage from 64.3% to 90%+","description":"internal/connectors/gdrive has 64.3% test coverage across gdrive.go, client.go, and oauth.go. Identify untested branches (likely: real API error paths in client.go, OAuth flow edge cases, token refresh failures) and add unit tests with mocks to cover them.","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T02:03:10.148528-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:02:03.005755-08:00","closed_at":"2026-02-01T04:02:03.005755-08:00","close_reason":"All functions at 100% coverage (excluding main). CI enforcement uses per-function checks."}
{"id":"personal-knowledge-base-mpj","title":"Add token.json to .gitignore","description":"Explicitly add token.json to .gitignore to prevent accidental commit of OAuth refresh tokens","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T04:51:20.558158-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:52:41.915055-08:00","closed_at":"2026-02-01T04:52:41.915055-08:00","close_reason":"Closed"}
{"id":"personal-knowledge-base-pr1","title":"Gitignore machine-local state files (daemon-state.json, daemon.pid)","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T10:34:36.17824-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T10:38:34.332109-08:00","closed_at":"2026-02-01T10:38:34.332109-08:00","close_reason":"Closed"}
{"id":"personal-knowledge-base-qm6","title":"Populate Snippet field in Google Drive search results","description":"gdrive.go:49 has a TODO: 'populate Snippet from file description or content snippet when available'. Currently the Snippet field in search results is always empty. The Google Drive API can return file descriptions and content snippets. Wire these into the result Snippet field so search results show meaningful previews.","status":"closed","priority":3,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T02:03:14.987098-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:32:04.024331-08:00","closed_at":"2026-02-01T04:32:04.024331-08:00","close_reason":"Populated Snippet field from Drive file description"}
{"id":"personal-knowledge-base-s9a","title":"Auto-create critical bug bead on unexpected CI failure","description":"Add a step to ci-cd.yml that, on unexpected failure, runs bd create to file a P0 bug bead and commits it. This ensures CI failures cannot be ignored -- agents see the bead on next bd sync.","status":"closed","priority":2,"issue_type":"feature","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T11:01:50.224364-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T11:35:16.916095-08:00","closed_at":"2026-02-01T11:35:16.916095-08:00","close_reason":"Added notify-failure job to ci-cd.yml: auto-creates P0 bug bead via jq+JSONL on any main-branch failure. Updated CLAUDE.md and PRIME.md with reference to the safety net.","dependencies":[{"issue_id":"personal-knowledge-base-s9a","depends_on_id":"personal-knowledge-base-0q2","type":"blocks","created_at":"2026-02-01T11:01:56.369499-08:00","created_by":"Chad Woolley"}]}
{"id":"personal-knowledge-base-weo","title":"Add acceptance tests for /search endpoint, snippets, auth command, and Gmail","description":"Write top-of-pyramid acceptance tests for all remaining feature beads: (1) /search API endpoint - start server, GET /search?q=test, verify JSON response. (2) Auth command - pkb auth --help shows usage. (3) Gmail connector - pkb search --help mentions multiple services. (4) Search output includes snippets when available. All tests build the real binary and test from user perspective.","status":"closed","priority":2,"issue_type":"task","owner":"thewoolleyman@gmail.com","created_at":"2026-02-01T04:19:26.093779-08:00","created_by":"Chad Woolley","updated_at":"2026-02-01T04:32:04.300138-08:00","closed_at":"2026-02-01T04:32:04.300138-08:00","close_reason":"Added 4 acceptance tests: auth help, auth without creds, help lists auth, serve /search endpoint"}
